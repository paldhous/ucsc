<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Working with documents</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="../../css/bootstrap.min.css" rel="stylesheet"> 
  <link href="../../css/custom2.css" rel="stylesheet">

 <style>
.presentation-container {
  position: relative;
  height: 0;
  overflow: hidden;
  padding-bottom: 55%
}

.presentation-container iframe {
  position: absolute;
  top:0;
  left: 0;
  width: 100%;
  height: 100%;
}
</style>

</head>

<body class="markdown github">

	<header class="navbar-inverse navbar-fixed-top">
		<div class="container">
			<nav role="navigation">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a href="index.html" class="navbar-brand">Investigating science</a>
				</div> <!-- /.navbar-header -->
				<!-- Collect the nav links, forms, and other content for toggling -->
				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					<ul class="nav navbar-nav">
						<li class="dropdown">
							<a href="#" class="dropdown-toggle" data-toggle="dropdown">Class notes<b class="caret"></b></a>
							<ul class="dropdown-menu">
								<li><a href="introduction.html">Introduction</a></li>
								<li><a href="approaches.html">Investigative approaches</a></li>
								<li><a href="interview-data.html">Interviewing data</a></li>
								<li><a href="documents.html">Working with documents</a></li>
								<li><a href="nonprofits-companies.html">Backgrounding nonprofits and companies</a></li>
								<li><a href="privacy-security.html">Privacy, security, and e-sleuthing</a></li>
								<li><a href="ben-welsh.html">Guest lecturer: Ben Welsh</a></li>
								<li><a href="meetings.html">Individual meetings</a></li>
								<li><a href="misconduct.html">Scientists behaving badly</a></li>
								<li><a href="ethics.html">Ethics in journalism</a></li>
							</ul>
						</li>
						<li>
						<li><a href="software.html">Software</a></li>
						<li><a href="datasets.html">Data</a></li>
						<li><a href="mailto:p.aldhous@gmail.com">Email instructor</a></li>					
					</ul>
				</div><!-- /.navbar-collapse -->
			</nav>
		</div> <!-- /.navbar-header -->
	</header>

	<div class="container all">

<h1 id="working-with-documents"><a name="working-with-documents" href="#working-with-documents"></a>Working with documents</h1><h3 id="introduction"><a name="introduction" href="#introduction"></a>Introduction</h3><p>Many investigative news stories depend on reporting from documents. In some cases, a single document or a small chache of documents may carry the story. But other stories depend on systematically analyzing large document sets to reveal the big picture.</p><p>Examples from my own work include:</p><h5 id="[spies-in-the-skies](https://www.buzzfeednews.com/article/peteraldhous/spies-in-the-skies):"><a name="[spies-in-the-skies](https://www.buzzfeednews.com/article/peteraldhous/spies-in-the-skies):" href="#[spies-in-the-skies](https://www.buzzfeednews.com/article/peteraldhous/spies-in-the-skies):"></a><a href="https://www.buzzfeednews.com/article/peteraldhous/spies-in-the-skies">Spies In The Skies</a>:</h5><p>This exploration of the activities of surveillance aircraft operated by the FBI and the Department of Homeland Security depended on a large quantity of flight tracking data obtained from the website <a href="https://www.flightradar24.com/">Flightradar24</a>. But to understand the ownership of each plane, and the equipment they carried, I relied on two key documents for each plane that I could <a href="http://aircraft.faa.gov/e.gov/ND/">purchase from the Federal Aviation Administration</a>: The history of their <a href="https://www.faa.gov/licenses_certificates/aircraft_certification/aircraft_registry/">registration</a>, and their <a href="https://www.faa.gov/licenses_certificates/aircraft_certification/airworthiness_certification/">airworthiness documentation</a>, which details post-manufacture modifications made to an aircraft. Some of the latter ran to more than 1,000 pages per plane. <a href="https://www.buzzfeednews.com/article/peteraldhous/hidden-spy-planes">Subsequent articles</a>, looking at other spy planes that I <a href="https://buzzfeednews.github.io/2017-08-spy-plane-finder/">identified through machine learning</a>, by training an an algorithm on flight tracking data from the aircraft in the first story, were reported in a similar way.</p><h5 id="[the-cities-where-the-cops-see-no-hate](https://www.buzzfeednews.com/article/peteraldhous/hate-crimes-miami-police-irving-syracuse):"><a name="[the-cities-where-the-cops-see-no-hate](https://www.buzzfeednews.com/article/peteraldhous/hate-crimes-miami-police-irving-syracuse):" href="#[the-cities-where-the-cops-see-no-hate](https://www.buzzfeednews.com/article/peteraldhous/hate-crimes-miami-police-irving-syracuse):"></a><a href="https://www.buzzfeednews.com/article/peteraldhous/hate-crimes-miami-police-irving-syracuse">The Cities Where The Cops See No Hate</a>:</h5><p>This was a story about the under-reporting of hate crimes in <a href="https://ucr.fbi.gov/hate-crime/2017">national statistics</a> collected by the FBI. There are many reasons for the undercount, including the fact that fewer than half of victims report hate crimes to the police. But I wanted to see whether police departments were failing to recognize hate crimes for what they are. I knew I could address this by looking at police incident reports. But there are thousands of police departments across the US, logging millions of incidents a year, so I needed a focused, systematic methodology to find “missing” hate crimes that would tell a compelling story.</p><h3 id="the-documents-we-will-use-today"><a name="the-documents-we-will-use-today" href="#the-documents-we-will-use-today"></a>The documents we will use today</h3><p><a href="data/documents.zip">Download this zipped folder</a> containing airworthiness certificates for two of the FBI aircraft from the Spies in the Skies story. Place it on your desktop and unzip.</p><h3 id="think-systematically,-develop-a-methodology"><a name="think-systematically,-develop-a-methodology" href="#think-systematically,-develop-a-methodology"></a>Think systematically, develop a methodology</h3><p>For the initial spy planes story, this was pretty straightforward. The documents cost $10 per plane, and I had a total of about 200 aircraft to look at. In practice, to keep costs down, I didn’t order documents for <em>all</em> of the planes in the first story, but did so for about 130 of them, making sure I had a representative sample of the different aircraft models flown by each agency. From this, it became clear that planes of the same model were usually equipped with the same equipment, allowing me to confidently make some general statements in the story about what the aircraft were capable of doing/seeing.</p><p>The hate crimes story required a more complex approach. This is what I came up with:</p><ul>
<li><p>Identify the police departments serving the 30 largest cities (all with a population of more than 100,000 people) in the US that had reported zero hate crimes in the five years up to and including 2016, then the most recent year in the FBI’s hate crime statistics.</p>
</li><li><p>Send public records requests for 2016 incident reports for the crime of “aggravated assault” to these cities. These are assaults that involve an attempt to inflict injury or a threat of violence with a deadly weapon. I chose this offense to focus on serious violent crimes that are reasonably commonplace (accounting for 788 of the 7,175 hate crime incidents recorded in 2017), and for which each of my cities reported dozens to more than 1,000 incidents per year, according to data collected under the FBI’s <a href="https://www.fbi.gov/services/cjis/ucr">Uniform Crime Reporting</a> program.</p>
</li><li><p>For the records returned, which came from 10 cities (some failed to provide records; others made prohibitive demands on costs to search and duplicate the records), manually classify for possible hate crimes, with reference to the FBI’s <a href="https://ucr.fbi.gov/hate-crime-data-collection-guidelines-and-training-manual.pdf">hate crime reporting guidelines </a>. This inevitably involved subjective judgements. So  I got three academic experts, including a former FBI agent who used to run the agency’s hate crime reporting program, to review the reports I had flagged as possible hate crimes. That led to the story being built around 15 incidents, recorded by six police departments, that my experts all agreed should each at least have been flagged as a possible hate crime and subjected to further scrutiny.</p>
</li></ul><p>(I was being charged search and duplication fees for these requests, so the methodology was designed to be feasible within a budget that had been set for the project.)</p><p>The methodology you will develop will depend on the nature of the documents and the questions you want to answer. You will almost always need to read a sample of your documents in full to understand what they contain. Ideally, you then want to develop a methodology that will allow you to categorize documents quickly and unambiguously without having to read every single word. But sometimes, as with my hate crimes story, there is no practical alternative to reading the documents in full.</p><h3 id="make-your-documents-machine-searchable"><a name="make-your-documents-machine-searchable" href="#make-your-documents-machine-searchable"></a>Make your documents machine-searchable</h3><p>The key to automating an analysis of documents is to make ensure that the text is machine-searchable. If your documents have been provided as scanned images, rather than digital PDFs, then you will need to use Optical Character Recognition to turn them into searchable text. (To determine if you have a digital PDF, see if you can highlight individual words within the document. If so, your PDF if digital; if the entire page is highlighted, it is a scanned image.)</p><p><a href="https://www.documentcloud.org/">DocumentCloud</a> (see below) performs OCR automatically when you upload documents, using the Open Source OCR tool <a href="https://github.com/tesseract-ocr/tesseract">Tesseract</a>. However, in my experience, its accuracy can be poor unless the quality of the scan is very good.</p><p><a href="https://acrobat.adobe.com/us/en/acrobat/acrobat-pro.html">Adobe Acrobat Pro</a> will also perform OCR on scanned PDFs, and I used it to OCR the documents for the spy planes stories. In my experience, the most accurate OCR software on poor-quality scans is Abbyy FineReader, avalable for <a href="https://www.abbyy.com/en-us/finereader/">Windows</a> or <a href="https://www.abbyy.com/en-us/finereader/pro-for-mac/">MacOS</a>. It currently costs around $200 on Windows and $120 for the Mac. (If you need high-quality OCR for your reporting project, let me know and I can run them through Abby FineReader!)</p><h3 id="show-your-work-with-documentcloud"><a name="show-your-work-with-documentcloud" href="#show-your-work-with-documentcloud"></a>Show your work with DocumentCloud</h3><p><a href="https://www.documentcloud.org/"><strong>DocumentCloud</strong></a> is the independent nonprofit organization behind a web app that allows <a href="https://www.documentcloud.org/contributors">news organizations</a> to publish, embed, annotate and redact the documents underlying their reporting. Read more about its history and goals <a href="https://www.documentcloud.org/about">here</a>.</p><p>You have each been set up with indivisual accounts under the UCSC SciCom DocumentCloud account. You’ve been given the <a href="https://www.documentcloud.org/help/accounts">status of freelancer</a>, which means you can upload, annotate, and edit your own documents. As an administrator, I can see any of your documents, and manage your individual accounts.</p><p>Login to DocumentCloud from the home page and you should see a screen like this:</p><p><img src="img/documents_1.jpg" alt=""></p><p>Now switch to the <code>Documents</code> tab and click on the <code>Your documents</code> link in the <code>SEARCH SHORTCUTS</code> panel at top left. The screen should now look like this:</p><p><img src="img/documents_2.jpg" alt=""></p><h4 id="create-a-project,-upload-documents"><a name="create-a-project,-upload-documents" href="#create-a-project,-upload-documents"></a>Create a project, upload documents</h4><p>Usually your first step will be to create a project to hold the documents for a story you’re working on. Click the <code>+ New Project</code> button and give your project a descriptive name:</p><p><img src="img/documents_3.jpg" alt=""></p><p>Now click on the new project in the left hand panel, click on the<code>+ New documents</code> button, select the airworthiness documents for the two planes, and click <code>Upload</code>:</p><p><img src="img/documents_4.jpg" alt=""></p><p>It may take a little while for your documents to be fully processed. Once they are, your screen should look like this:</p><p><img src="img/documents_5.jpg" alt=""></p><h4 id="look-at-recognized-entities-and-timelines"><a name="look-at-recognized-entities-and-timelines" href="#look-at-recognized-entities-and-timelines"></a>Look at recognized entities and timelines</h4><p>DocumentCloud automatically runs documents through <a href="http://www.opencalais.com/">Thomson Reuters Open Calais</a>, which can flag people, places and organizations mentioned in a document.</p><p>Select the first document, then select <code>Analyze&gt;View Entities</code>:</p><p><img src="img/documents_6.jpg" alt=""></p><p>This should be the result:</p><p><img src="img/documents_7.jpg" alt=""></p><p>Open Calais is not infallible — “Added Table” seems unlikely to be a person. But you can now hover over the gray bars to see the context in which each recognized entity is mentioned:</p><p><img src="img/documents_8.jpg" alt=""></p><p>This mention of Wescam, or instance, details the <a href="https://www.wescam.com/products-services/airborne-surveillance-and-reconnaissance/mx-10">installation of a surveillance camera</a>.</p><p>DocumentCloud’s processing also highlights dates (again, do not assume complete accuracy in recognizing them correctly). Select <code>Analyze&gt;View Timeline</code> to view the dates it has pulled from your document. You can hover over the mentions to see the context:</p><p><img src="img/documents_9.jpg" alt=""></p><p>Here, we can see the installation of an <a href="https://www.gomolzig.de/index.php?area=design&amp;article=5">engine exhaust silencer</a> on Nov. 13, 2013.</p><h4 id="annotate-documents"><a name="annotate-documents" href="#annotate-documents"></a>Annotate documents</h4><p>Having identified interesting elements in a document, you can add annotations to highlight them. Click on the highlighted date to go through to revelant OCR’d text:</p><p><img src="img/documents_10.jpg" alt=""></p><p>Now click on the <code>DOCUMENT</code> tab to see the same section from the PDF:</p><p><img src="img/documents_11.jpg" alt=""></p><p>To add an annotation, select <code>Add a Public Note</code> from the right-hand panel, then click and drag to highlight the text you wish to annotate, add a title and further explanatory text for your annotation, and click <code>Save</code>:</p><p><img src="img/documents_12.jpg" alt=""></p><h4 id="redact-documents"><a name="redact-documents" href="#redact-documents"></a>Redact documents</h4><p>To redactions text from your documents, select <code>Redact Document</code> from the right-hand panel, then click and drag to draw black rectangles over the text you wish to hide, and then click <code>Save redactions</code>:</p><p><img src="img/documents_13.jpg" alt=""></p><p>DocumentCloud’s redactions are reliable and secure — I’ve obtained a document that was supposedly redacted in another tool, and all that had happened was a black rectangle had been placed over the text, which I could still copy and paste.</p><p>Redacting documents can be important to protect individual’s identity. For <a href="https://www.buzzfeednews.com/article/peteraldhous/david-sweatt-vanderbilt-sexual-assault-allegation">this story</a> on allegations that a prominent nweuroscientist had drugged and raped a graduate student, I <a href="https://www.documentcloud.org/documents/5025937-Stadum-Notes-and-Correspondence.html#document/p1/a464132">added further redactions</a> beyond those made by Oregon Health and Sciences University to protect the identity of the victim.</p><h4 id="control-access-to-your-documents"><a name="control-access-to-your-documents" href="#control-access-to-your-documents"></a>Control access to your documents</h4><p>Unless you make a document public, it can only be seen by you. But when you publish, you will want to make links and embeds visible to your readers. To do that, highlight the documents to make public and then select <code>Edit&gt;Access Level</code>, switch to <code>Public Access</code> and <code>Save</code>:</p><p><img src="img/documents_14.jpg" alt=""></p><p>You can also make avilable across your organization (apart from freelancers), which is a good setting while your story is being edited.</p><h4 id="link-to-documents-and-annotations-from-your-story"><a name="link-to-documents-and-annotations-from-your-story" href="#link-to-documents-and-annotations-from-your-story"></a>Link to documents and annotations from your story</h4><p>To link to an entire document, highlight it, select <code>Open</code> and then copy the URL to obtain the link. To link to a specific annotation, click on its link in the document’s right-hand panel, click the link icon (<img src="img/documents_15.jpg" alt="">) for the annotation, and again copy the URL to obtain the link.</p><h4 id="embed-a-document,-page,-or-annotation-in-your-story"><a name="embed-a-document,-page,-or-annotation-in-your-story" href="#embed-a-document,-page,-or-annotation-in-your-story"></a>Embed a document, page, or annotation in your story</h4><p>Click on <code>Embed this Document</code>, add a link to the URL where your story will be published, and then follow the dialog boxes to obtain an embed code:</p><p><img src="img/documents_16.jpg" alt=""></p><p>You can also embed single pages and annotations in a similar way.</p><h3 id="systematically-analyze-documents-with-overview"><a name="systematically-analyze-documents-with-overview" href="#systematically-analyze-documents-with-overview"></a>Systematically analyze documents with Overview</h3><p>Overview is a project originally developed by data journalist <a href="http://jonathanstray.com/me">Jonathan Stray</a>.</p><p>Login to Overview, abd then select <code>Import from DocumentCloud</code> and at the next screen enter your DocumentCloud login details. You should now see your DocumentCloud projects, available for import:</p><p><img src="img/documents_17.jpg" alt=""></p><p>Import, selecting <code>One file is one doucument</code>. When complete, the screen should look like this:</p><p><img src="img/documents_18.jpg" alt=""></p><p>Overview can build a tree of folders grouping documents that are similar in their charactersitic word use. Click on <code>Tree</code> to activate this feature.</p><p>In practice, I’ve found overview most useful to search and tag documents by the inclusion of key words and phrases. Use the search box to find documents containing that text, and then click <code>Tags</code> to create a tag to mark them as containing this term:</p><p><img src="img/documents_19.jpg" alt=""></p><p>This was how I quickly searched and tagged the FBI spy planes by model, and by the specific equipment they carried:</p><p><img src="img/documents_20.jpg" alt=""></p><p>You can export the text from your documents from Overview. Clock on the hamburger menu (<img src="img/documents_21.jpg" alt="">) at top right and select export, then choose to export as separate text files or as a CSV or Excel spreadsheet:</p><p><img src="img/documents_22.jpg" alt=""></p><h3 id="turn-text-into-data,-then-analyze-for-word-usage,-sentiment,-and-more"><a name="turn-text-into-data,-then-analyze-for-word-usage,-sentiment,-and-more" href="#turn-text-into-data,-then-analyze-for-word-usage,-sentiment,-and-more"></a>Turn text into data, then analyze for word usage, sentiment, and more</h3><p>Once you have documents turned into text, you can also quantitaively analyze the usage of specific words or phrases, count words and syllables (and calculate a document’s linguistic complexity), and analyze the overall sentiments of the words used. I’ve done this for text including <a href="https://www.buzzfeednews.com/article/peteraldhous/trump-twitter-wars">tweets from Donald Trump and all members of Congress</a>, and for presidential <a href="https://www.buzzfeednews.com/article/peteraldhous/trump-state-of-the-union-words">State of the Union addresses</a>. If you want to do this sort of text analysis, I <a href="https://paldhous.github.io/NICAR/2019/r-text-analysis.html">have a tutorial</a> on using R packages including <a href="https://cran.r-project.org/web/packages/tidytext/tidytext.pdf">tidytext</a> for text mining, which builds from the work we’ve done previously in the tidyverse.</p><h3 id="further-reading"><a name="further-reading" href="#further-reading"></a>Further reading</h3><p><strong><a href="https://www.documentcloud.org/help/tour">Guided tour of DocumentCloud</a></strong></p><p><strong><a href="https://www.tidytextmining.com/">Text Mining With R</a></strong><br>Excellent, free e-book from Julia Silge and David Robinson, authors of the tidytext package.</p>

	</div> <!-- /.container all -->
	<script src="https://code.jquery.com/jquery.min.js"></script>
	<script src="../../js/bootstrap.min.js"></script>
</body>
</html>
