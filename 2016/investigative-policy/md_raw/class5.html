<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>class5.html</title>
  <meta name="generator" content="Haroopad 0.13.1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>div.oembedall-githubrepos{border:1px solid #DDD;border-radius:4px;list-style-type:none;margin:0 0 10px;padding:8px 10px 0;font:13.34px/1.4 helvetica,arial,freesans,clean,sans-serif;width:452px;background-color:#fff}div.oembedall-githubrepos .oembedall-body{background:-moz-linear-gradient(center top,#FAFAFA,#EFEFEF);background:-webkit-gradient(linear,left top,left bottom,from(#FAFAFA),to(#EFEFEF));border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-top:1px solid #EEE;margin-left:-10px;margin-top:8px;padding:5px 10px;width:100%}div.oembedall-githubrepos h3{font-size:14px;margin:0;padding-left:18px;white-space:nowrap}div.oembedall-githubrepos p.oembedall-description{color:#444;font-size:12px;margin:0 0 3px}div.oembedall-githubrepos p.oembedall-updated-at{color:#888;font-size:11px;margin:0}div.oembedall-githubrepos ul.oembedall-repo-stats{border:none;float:right;font-size:11px;font-weight:700;padding-left:15px;position:relative;z-index:5;margin:0}div.oembedall-githubrepos ul.oembedall-repo-stats li{border:none;color:#666;display:inline-block;list-style-type:none;margin:0!important}div.oembedall-githubrepos ul.oembedall-repo-stats li a{background-color:transparent;border:none;color:#666!important;background-position:5px -2px;background-repeat:no-repeat;border-left:1px solid #DDD;display:inline-block;height:21px;line-height:21px;padding:0 5px 0 23px}div.oembedall-githubrepos ul.oembedall-repo-stats li:first-child a{border-left:medium none;margin-right:-3px}div.oembedall-githubrepos ul.oembedall-repo-stats li a:hover{background:5px -27px no-repeat #4183C4;color:#FFF!important;text-decoration:none}div.oembedall-githubrepos ul.oembedall-repo-stats li:first-child a:hover{border-bottom-left-radius:3px;border-top-left-radius:3px}ul.oembedall-repo-stats li:last-child a:hover{border-bottom-right-radius:3px;border-top-right-radius:3px}span.oembedall-closehide{background-color:#aaa;border-radius:2px;cursor:pointer;margin-right:3px}div.oembedall-container{margin-top:5px;text-align:left}.oembedall-ljuser{font-weight:700}.oembedall-ljuser img{vertical-align:bottom;border:0;padding-right:1px}.oembedall-stoqembed{border-bottom:1px dotted #999;float:left;overflow:hidden;width:730px;line-height:1;background:#FFF;color:#000;font-family:Arial,Liberation Sans,DejaVu Sans,sans-serif;font-size:80%;text-align:left;margin:0;padding:0}.oembedall-stoqembed a{color:#07C;text-decoration:none;margin:0;padding:0}.oembedall-stoqembed a:hover{text-decoration:underline}.oembedall-stoqembed a:visited{color:#4A6B82}.oembedall-stoqembed h3{font-family:Trebuchet MS,Liberation Sans,DejaVu Sans,sans-serif;font-size:130%;font-weight:700;margin:0;padding:0}.oembedall-stoqembed .oembedall-reputation-score{color:#444;font-size:120%;font-weight:700;margin-right:2px}.oembedall-stoqembed .oembedall-user-info{height:35px;width:185px}.oembedall-stoqembed .oembedall-user-info .oembedall-user-gravatar32{float:left;height:32px;width:32px}.oembedall-stoqembed .oembedall-user-info .oembedall-user-details{float:left;margin-left:5px;overflow:hidden;white-space:nowrap;width:145px}.oembedall-stoqembed .oembedall-question-hyperlink{font-weight:700}.oembedall-stoqembed .oembedall-stats{background:#EEE;margin:0 0 0 7px;padding:4px 7px 6px;width:58px}.oembedall-stoqembed .oembedall-statscontainer{float:left;margin-right:8px;width:86px}.oembedall-stoqembed .oembedall-votes{color:#555;padding:0 0 7px;text-align:center}.oembedall-stoqembed .oembedall-vote-count-post{font-size:240%;color:#808185;display:block;font-weight:700}.oembedall-stoqembed .oembedall-views{color:#999;padding-top:4px;text-align:center}.oembedall-stoqembed .oembedall-status{margin-top:-3px;padding:4px 0;text-align:center;background:#75845C;color:#FFF}.oembedall-stoqembed .oembedall-status strong{color:#FFF;display:block;font-size:140%}.oembedall-stoqembed .oembedall-summary{float:left;width:635px}.oembedall-stoqembed .oembedall-excerpt{line-height:1.2;margin:0;padding:0 0 5px}.oembedall-stoqembed .oembedall-tags{float:left;line-height:18px}.oembedall-stoqembed .oembedall-tags a:hover{text-decoration:none}.oembedall-stoqembed .oembedall-post-tag{background-color:#E0EAF1;border-bottom:1px solid #3E6D8E;border-right:1px solid #7F9FB6;color:#3E6D8E;font-size:90%;line-height:2.4;margin:2px 2px 2px 0;padding:3px 4px;text-decoration:none;white-space:nowrap}.oembedall-stoqembed .oembedall-post-tag:hover{background-color:#3E6D8E;border-bottom:1px solid #37607D;border-right:1px solid #37607D;color:#E0EAF1}.oembedall-stoqembed .oembedall-fr{float:right}.oembedall-stoqembed .oembedall-statsarrow{background-image:url(http://cdn.sstatic.net/stackoverflow/img/sprites.png?v=3);background-repeat:no-repeat;overflow:hidden;background-position:0 -435px;float:right;height:13px;margin-top:12px;width:7px}.oembedall-facebook1{border:1px solid #1A3C6C;padding:0;font:13.34px/1.4 verdana;width:500px}.oembedall-facebook2{background-color:#627add}.oembedall-facebook2 a{color:#e8e8e8;text-decoration:none}.oembedall-facebookBody{background-color:#fff;vertical-align:top;padding:5px}.oembedall-facebookBody .contents{display:inline-block;width:100%}.oembedall-facebookBody div img{float:left;margin-right:5px}div.oembedall-lanyard{-webkit-box-shadow:none;-webkit-transition-delay:0s;-webkit-transition-duration:.4000000059604645s;-webkit-transition-property:width;-webkit-transition-timing-function:cubic-bezier(0.42,0,.58,1);background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:none;background-origin:padding-box;border-width:0;box-shadow:none;color:#112644;display:block;float:left;font-family:'Trebuchet MS',Trebuchet,sans-serif;font-size:16px;height:253px;line-height:19px;margin:0;max-width:none;min-height:0;outline:#112644 0;overflow-x:visible;overflow-y:visible;padding:0;position:relative;text-align:left;vertical-align:baseline;width:804px}div.oembedall-lanyard .tagline{font-size:1.5em}div.oembedall-lanyard .wrapper{overflow:hidden;clear:both}div.oembedall-lanyard .split{float:left;display:inline}div.oembedall-lanyard .prominent-place .flag:active,div.oembedall-lanyard .prominent-place .flag:focus,div.oembedall-lanyard .prominent-place .flag:hover,div.oembedall-lanyard .prominent-place .flag:link,div.oembedall-lanyard .prominent-place .flag:visited{float:left;display:block;width:48px;height:48px;position:relative;top:-5px;margin-right:10px}div.oembedall-lanyard .place-context{font-size:.889em}div.oembedall-lanyard .prominent-place .sub-place{display:block}div.oembedall-lanyard .prominent-place{font-size:1.125em;line-height:1.1em;font-weight:400}div.oembedall-lanyard .main-date{color:#8CB4E0;font-weight:700;line-height:1.1}div.oembedall-lanyard .first{width:48.57%;margin:0 0 0 2.857%}.mermaid .label{color:#333}.node circle,.node polygon,.node rect{fill:#cde498;stroke:#13540c;stroke-width:1px}.edgePath .path{stroke:green;stroke-width:1.5px}.cluster rect{fill:#cdffb2;rx:40;stroke:#6eaa49;stroke-width:1px}.cluster text{fill:#333}.actor{stroke:#13540c;fill:#cde498}text.actor{fill:#000;stroke:none}.actor-line{stroke:grey}.messageLine0{stroke-width:1.5;stroke-dasharray:"2 2";marker-end:"url(#arrowhead)";stroke:#333}.messageLine1{stroke-width:1.5;stroke-dasharray:"2 2";stroke:#333}#arrowhead{fill:#333}#crosshead path{fill:#333!important;stroke:#333!important}.messageText{fill:#333;stroke:none}.labelBox{stroke:#326932;fill:#cde498}.labelText,.loopText{fill:#000;stroke:none}.loopLine{stroke-width:2;stroke-dasharray:"2 2";marker-end:"url(#arrowhead)";stroke:#326932}.note{stroke:#6eaa49;fill:#fff5ad}.noteText{fill:#000;stroke:none;font-family:'trebuchet ms',verdana,arial;font-size:14px}.section{stroke:none;opacity:.2}.section0,.section2{fill:#6eaa49}.section1,.section3{fill:#fff;opacity:.2}.sectionTitle0,.sectionTitle1,.sectionTitle2,.sectionTitle3{fill:#333}.sectionTitle{text-anchor:start;font-size:11px;text-height:14px}.grid .tick{stroke:lightgrey;opacity:.3;shape-rendering:crispEdges}.grid path{stroke-width:0}.today{fill:none;stroke:red;stroke-width:2px}.task{stroke-width:2}.taskText{text-anchor:middle;font-size:11px}.taskTextOutsideRight{fill:#000;text-anchor:start;font-size:11px}.taskTextOutsideLeft{fill:#000;text-anchor:end;font-size:11px}.taskText0,.taskText1,.taskText2,.taskText3{fill:#fff}.task0,.task1,.task2,.task3{fill:#487e3a;stroke:#13540c}.taskTextOutside0,.taskTextOutside1,.taskTextOutside2,.taskTextOutside3{fill:#000}.active0,.active1,.active2,.active3{fill:#cde498;stroke:#13540c}.activeText0,.activeText1,.activeText2,.activeText3{fill:#000!important}.done0,.done1,.done2,.done3{stroke:grey;fill:lightgrey;stroke-width:2}.doneText0,.doneText1,.doneText2,.doneText3{fill:#000!important}.crit0,.crit1,.crit2,.crit3{stroke:#f88;fill:red;stroke-width:2}.activeCrit0,.activeCrit1,.activeCrit2,.activeCrit3{stroke:#f88;fill:#cde498;stroke-width:2}.doneCrit0,.doneCrit1,.doneCrit2,.doneCrit3{stroke:#f88;fill:lightgrey;stroke-width:2;cursor:pointer;shape-rendering:crispEdges}.activeCritText0,.activeCritText1,.activeCritText2,.activeCritText3,.doneCritText0,.doneCritText1,.doneCritText2,.doneCritText3{fill:#000!important}.titleText{text-anchor:middle;font-size:18px;fill:#000}text{font-family:'trebuchet ms',verdana,arial;font-size:14px}html{height:100%}body{margin:0!important;padding:5px 20px 26px!important;background-color:#fff;font-family:"Lucida Grande","Segoe UI","Apple SD Gothic Neo","Malgun Gothic","Lucida Sans Unicode",Helvetica,Arial,sans-serif;font-size:.9em;overflow-x:hidden;overflow-y:auto}br,h1,h2,h3,h4,h5,h6{clear:both}hr.page{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x;border:0;height:3px;padding:0}hr.underscore{border-top-style:dashed!important}body >:first-child{margin-top:0!important}img.plugin{box-shadow:0 1px 3px rgba(0,0,0,.1);border-radius:3px}iframe{border:0}figure{-webkit-margin-before:0;-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0}kbd{border:1px solid #aaa;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;-moz-box-shadow:1px 2px 2px #ddd;-webkit-box-shadow:1px 2px 2px #ddd;box-shadow:1px 2px 2px #ddd;background-color:#f9f9f9;background-image:-moz-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:-o-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:-webkit-linear-gradient(top,#eee,#f9f9f9,#eee);background-image:linear-gradient(top,#eee,#f9f9f9,#eee);padding:1px 3px;font-family:inherit;font-size:.85em}.oembeded .oembed_photo{display:inline-block}img[data-echo]{margin:25px 0;width:100px;height:100px;background:url(../img/ajax.gif) center center no-repeat #fff}.spinner{display:inline-block;width:10px;height:10px;margin-bottom:-.1em;border:2px solid rgba(0,0,0,.5);border-top-color:transparent;border-radius:100%;-webkit-animation:spin 1s infinite linear;animation:spin 1s infinite linear}.spinner:after{content:'';display:block;width:0;height:0;position:absolute;top:-6px;left:0;border:4px solid transparent;border-bottom-color:rgba(0,0,0,.5);-webkit-transform:rotate(45deg);transform:rotate(45deg)}@-webkit-keyframes spin{to{-webkit-transform:rotate(360deg)}}@keyframes spin{to{transform:rotate(360deg)}}p.toc{margin:0!important}p.toc ul{padding-left:10px}p.toc>ul{padding:10px;margin:0 10px;display:inline-block;border:1px solid #ededed;border-radius:5px}p.toc li,p.toc ul{list-style-type:none}p.toc li{width:100%;padding:0;overflow:hidden}p.toc li a::after{content:"."}p.toc li a:before{content:"• "}p.toc h5{text-transform:uppercase}p.toc .title{float:left;padding-right:3px}p.toc .number{margin:0;float:right;padding-left:3px;background:#fff;display:none}input.task-list-item{margin-left:-1.62em}.markdown{font-family:"Hiragino Sans GB","Microsoft YaHei",STHeiti,SimSun,"Lucida Grande","Lucida Sans Unicode","Lucida Sans",'Segoe UI',AppleSDGothicNeo-Medium,'Malgun Gothic',Verdana,Tahoma,sans-serif;padding:20px}.markdown a{text-decoration:none;vertical-align:baseline}.markdown a:hover{text-decoration:underline}.markdown h1{font-size:2.2em;font-weight:700;margin:1.5em 0 1em}.markdown h2{font-size:1.8em;font-weight:700;margin:1.275em 0 .85em}.markdown h3{font-size:1.6em;font-weight:700;margin:1.125em 0 .75em}.markdown h4{font-size:1.4em;font-weight:700;margin:.99em 0 .66em}.markdown h5{font-size:1.2em;font-weight:700;margin:.855em 0 .57em}.markdown h6{font-size:1em;font-weight:700;margin:.75em 0 .5em}.markdown h1+p,.markdown h1:first-child,.markdown h2+p,.markdown h2:first-child,.markdown h3+p,.markdown h3:first-child,.markdown h4+p,.markdown h4:first-child,.markdown h5+p,.markdown h5:first-child,.markdown h6+p,.markdown h6:first-child{margin-top:0}.markdown hr{border:1px solid #ccc}.markdown p{margin:1em 0;word-wrap:break-word}.markdown ol{list-style-type:decimal}.markdown li{display:list-item;line-height:1.4em}.markdown blockquote{margin:1em 20px}.markdown blockquote>:first-child{margin-top:0}.markdown blockquote>:last-child{margin-bottom:0}.markdown blockquote cite:before{content:'\2014 \00A0'}.markdown .code{border-radius:3px;word-wrap:break-word}.markdown pre{border-radius:3px;word-wrap:break-word;border:1px solid #ccc;overflow:auto;padding:.5em}.markdown pre code{border:0;display:block}.markdown pre>code{font-family:Consolas,Inconsolata,Courier,monospace;font-weight:700;white-space:pre;margin:0}.markdown code{border-radius:3px;word-wrap:break-word;border:1px solid #ccc;padding:0 5px;margin:0 2px}.markdown img{max-width:100%}.markdown mark{color:#000;background-color:#fcf8e3}.markdown table{padding:0;border-collapse:collapse;border-spacing:0;margin-bottom:16px}.markdown table tr td,.markdown table tr th{border:1px solid #ccc;margin:0;padding:6px 13px}.markdown table tr th{font-weight:700}.markdown table tr th>:first-child{margin-top:0}.markdown table tr th>:last-child{margin-bottom:0}.markdown table tr td>:first-child{margin-top:0}.markdown table tr td>:last-child{margin-bottom:0}.github{padding:20px;font-family:"Helvetica Neue",Helvetica,"Hiragino Sans GB","Microsoft YaHei",STHeiti,SimSun,"Segoe UI",AppleSDGothicNeo-Medium,'Malgun Gothic',Arial,freesans,sans-serif;font-size:15px;background:#fff;line-height:1.6;-webkit-font-smoothing:antialiased}.github a{color:#3269a0}.github a:hover{color:#4183c4}.github h2{border-bottom:1px solid #e6e6e6;line-height:1.6}.github h6{color:#777}.github hr{border:1px solid #e6e6e6}.github pre>code{font-size:.9em;font-family:Consolas,Inconsolata,Courier,monospace}.github blockquote>code,.github h1>code,.github h2>code,.github h3>code,.github h4>code,.github h5>code,.github h6>code,.github li>code,.github p>code,.github td>code{background-color:rgba(0,0,0,.07);font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;font-size:85%;padding:.2em .5em;border:0}.github blockquote{border-left:4px solid #e6e6e6;padding:0 15px;font-style:italic}.github table{background-color:#fafafa}.github table tr td,.github table tr th{border:1px solid #e6e6e6}.github table tr:nth-child(2n){background-color:#f2f2f2}.hljs{display:block;overflow-x:auto;padding:.5em;background:#f0f0f0;-webkit-text-size-adjust:none}.hljs,.hljs-subst,.hljs-tag .hljs-title,.nginx .hljs-title{color:#000}.apache .hljs-cbracket,.apache .hljs-tag,.asciidoc .hljs-header,.bash .hljs-variable,.coffeescript .hljs-attribute,.django .hljs-variable,.erlang_repl .hljs-function_or_atom,.haml .hljs-symbol,.hljs-addition,.hljs-constant,.hljs-flow,.hljs-parent,.hljs-pragma,.hljs-preprocessor,.hljs-rules .hljs-value,.hljs-stream,.hljs-string,.hljs-tag .hljs-value,.hljs-template_tag,.hljs-title,.markdown .hljs-header,.ruby .hljs-symbol,.ruby .hljs-symbol .hljs-string,.smalltalk .hljs-class,.tex .hljs-command,.tex .hljs-special{color:#800}.asciidoc .hljs-blockquote,.diff .hljs-header,.hljs-annotation,.hljs-chunk,.hljs-comment,.markdown .hljs-blockquote,.smartquote{color:#888}.asciidoc .hljs-bullet,.asciidoc .hljs-link_url,.go .hljs-constant,.hljs-change,.hljs-date,.hljs-hexcolor,.hljs-literal,.hljs-number,.hljs-regexp,.lasso .hljs-variable,.makefile .hljs-variable,.markdown .hljs-bullet,.markdown .hljs-link_url,.smalltalk .hljs-char,.smalltalk .hljs-symbol{color:#080}.apache .hljs-sqbracket,.asciidoc .hljs-attribute,.asciidoc .hljs-link_label,.clojure .hljs-attribute,.coffeescript .hljs-property,.erlang_repl .hljs-reserved,.haml .hljs-bullet,.hljs-array,.hljs-attr_selector,.hljs-decorator,.hljs-deletion,.hljs-doctype,.hljs-envvar,.hljs-filter .hljs-argument,.hljs-important,.hljs-javadoc,.hljs-label,.hljs-localvars,.hljs-phony,.hljs-pi,.hljs-prompt,.hljs-pseudo,.hljs-shebang,.lasso .hljs-attribute,.markdown .hljs-link_label,.nginx .hljs-built_in,.ruby .hljs-string,.tex .hljs-formula,.vhdl .hljs-attribute{color:#88f}.apache .hljs-tag,.asciidoc .hljs-strong,.bash .hljs-variable,.css .hljs-tag,.hljs-built_in,.hljs-dartdoc,.hljs-id,.hljs-javadoctag,.hljs-keyword,.hljs-phpdoc,.hljs-request,.hljs-status,.hljs-title,.hljs-type,.hljs-typename,.hljs-winutils,.hljs-yardoctag,.markdown .hljs-strong,.smalltalk .hljs-class,.tex .hljs-command{font-weight:700}.asciidoc .hljs-emphasis,.markdown .hljs-emphasis{font-style:italic}.nginx .hljs-built_in{font-weight:400}.coffeescript .javascript,.javascript .xml,.lasso .markup,.tex .hljs-formula,.xml .css,.xml .hljs-cdata,.xml .javascript,.xml .vbscript{opacity:.5}.MathJax_Hover_Frame{border-radius:.25em;-webkit-border-radius:.25em;-moz-border-radius:.25em;-khtml-border-radius:.25em;box-shadow:0 0 15px #83A;-webkit-box-shadow:0 0 15px #83A;-moz-box-shadow:0 0 15px #83A;-khtml-box-shadow:0 0 15px #83A;border:1px solid #A6D!important;display:inline-block;position:absolute}.MathJax_Hover_Arrow{position:absolute;width:15px;height:11px;cursor:pointer}#MathJax_About{position:fixed;left:50%;width:auto;text-align:center;border:3px outset;padding:1em 2em;background-color:#DDD;color:#000;cursor:default;font-family:message-box;font-size:120%;font-style:normal;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;z-index:201;border-radius:15px;-webkit-border-radius:15px;-moz-border-radius:15px;-khtml-border-radius:15px;box-shadow:0 10px 20px gray;-webkit-box-shadow:0 10px 20px gray;-moz-box-shadow:0 10px 20px gray;-khtml-box-shadow:0 10px 20px gray;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}.MathJax_Menu{position:absolute;background-color:#fff;color:#000;width:auto;padding:5px 0;border:1px solid #CCC;margin:0;cursor:default;font:menu;text-align:left;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;z-index:201;border-radius:5px;-webkit-border-radius:5px;-moz-border-radius:5px;-khtml-border-radius:5px;box-shadow:0 10px 20px gray;-webkit-box-shadow:0 10px 20px gray;-moz-box-shadow:0 10px 20px gray;-khtml-box-shadow:0 10px 20px gray;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}.MathJax_MenuItem{padding:1px 2em;background:0 0}.MathJax_MenuArrow{position:absolute;right:.5em;color:#666}.MathJax_MenuActive .MathJax_MenuArrow{color:#fff}.MathJax_MenuArrow.RTL{left:.5em;right:auto}.MathJax_MenuCheck{position:absolute;left:.7em}.MathJax_MenuCheck.RTL{right:.7em;left:auto}.MathJax_MenuRadioCheck{position:absolute;left:.7em}.MathJax_MenuRadioCheck.RTL{right:.7em;left:auto}.MathJax_MenuLabel{padding:1px 2em 3px 1.33em;font-style:italic}.MathJax_MenuRule{border-top:1px solid #DDD;margin:4px 3px}.MathJax_MenuDisabled{color:GrayText}.MathJax_MenuActive{background-color:#606872;color:#fff}.MathJax_Menu_Close{position:absolute;width:31px;height:31px;top:-15px;left:-15px}#MathJax_Zoom{position:absolute;background-color:#F0F0F0;overflow:auto;display:block;z-index:301;padding:.5em;border:1px solid #000;margin:0;font-weight:400;font-style:normal;text-align:left;text-indent:0;text-transform:none;line-height:normal;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;box-shadow:5px 5px 15px #AAA;-webkit-box-shadow:5px 5px 15px #AAA;-moz-box-shadow:5px 5px 15px #AAA;-khtml-box-shadow:5px 5px 15px #AAA;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}#MathJax_ZoomOverlay{position:absolute;left:0;top:0;z-index:300;display:inline-block;width:100%;height:100%;border:0;padding:0;margin:0;background-color:#fff;opacity:0;filter:alpha(opacity=0)}#MathJax_ZoomFrame{position:relative;display:inline-block;height:0;width:0}#MathJax_ZoomEventTrap{position:absolute;left:0;top:0;z-index:302;display:inline-block;border:0;padding:0;margin:0;background-color:#fff;opacity:0;filter:alpha(opacity=0)}.MathJax_Preview{color:#888}#MathJax_Message{position:fixed;left:1px;bottom:2px;background-color:#E6E6E6;border:1px solid #959595;margin:0;padding:2px 8px;z-index:102;color:#000;font-size:80%;width:auto;white-space:nowrap}#MathJax_MSIE_Frame{position:absolute;top:0;left:0;width:0;z-index:101;border:0;margin:0;padding:0}.MathJax_Error{color:#C00;font-style:italic}.MathJax_Display{text-align:center;margin:1em 0;position:relative;display:block!important;text-indent:0;max-width:none;max-height:none;min-width:0;min-height:0;width:100%}.MathJax .merror{background-color:#FF8;color:#C00;border:1px solid #C00;padding:1px 3px;font-style:normal;font-size:90%}.MathJax .MJX-monospace{font-family:monospace}.MathJax .MJX-sans-serif{font-family:sans-serif}#MathJax_Tooltip{background-color:InfoBackground;color:InfoText;border:1px solid #000;box-shadow:2px 2px 5px #AAA;-webkit-box-shadow:2px 2px 5px #AAA;-moz-box-shadow:2px 2px 5px #AAA;-khtml-box-shadow:2px 2px 5px #AAA;filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true');padding:3px 4px;z-index:401;position:absolute;left:0;top:0;width:auto;height:auto;display:none}.MathJax{display:inline;font-style:normal;font-weight:400;line-height:normal;font-size:100%;font-size-adjust:none;text-indent:0;text-align:left;text-transform:none;letter-spacing:normal;word-spacing:normal;word-wrap:normal;white-space:nowrap;float:none;direction:ltr;max-width:none;max-height:none;min-width:0;min-height:0;border:0;padding:0;margin:0}.MathJax a,.MathJax img,.MathJax nobr{border:0;padding:0;margin:0;max-width:5000em;max-height:5000em;min-width:0;min-height:0;vertical-align:0;line-height:normal;text-decoration:none}img.MathJax_strut{border:0!important;padding:0!important;margin:0!important;vertical-align:0!important}.MathJax span{display:inline;position:static;border:0;padding:0;margin:0;vertical-align:0;line-height:normal;text-decoration:none}.MathJax nobr{white-space:nowrap!important}.MathJax img{display:inline!important;float:none!important}.MathJax *{transition:none;-webkit-transition:none;-moz-transition:none;-ms-transition:none;-o-transition:none}.MathJax_Processing{visibility:hidden;position:fixed;width:0;height:0;overflow:hidden}.MathJax_Processed{display:none!important}.MathJax_ExBox{display:block!important;overflow:hidden;width:1px;height:60ex;min-height:0;max-height:none}.MathJax .MathJax_EmBox{display:block!important;overflow:hidden;width:1px;height:60em;min-height:0;max-height:none}.MathJax .MathJax_HitBox{cursor:text;background:#fff;opacity:0;filter:alpha(opacity=0)}#MathJax_Tooltip *,.MathJax .MathJax_HitBox *{filter:none;opacity:1;background:0 0}@font-face{font-family:MathJax_Blank;src:url(about:blank)}.MathJax .noError{font-size:90%;text-align:left;color:#000;padding:1px 3px;border:1px solid}footer{position:fixed;font-size:.8em;text-align:right;bottom:0;margin-left:-25px;height:20px;width:100%}</style>
</head>
<body class="markdown github">
<h1 id="data-visualization-with-tableau-public"><a name="data-visualization-with-tableau-public" href="#data-visualization-with-tableau-public"></a>Data visualization with Tableau Public</h1><h3 id="introducing-tableau-public"><a name="introducing-tableau-public" href="#introducing-tableau-public"></a>Introducing Tableau Public</h3><p><a href="http://www.tableausoftware.com/public/"><strong>Tableau Public</strong></a> allows you to create a wide variety of interactive charts and maps and organize them into dashboards and stories that can be saved to the cloud and embedded on any web page.</p><p>The free Public version of the software requires you to save your visualizations to the open web. If you have sensitive data that needs to be kept within your organization, you will need a license for the <a href="http://www.tableau.com/products/">Desktop version</a> of the software.</p><p>Tableau was developed for exploratory graphical data analysis, so it is a great tool for exploring a new dataset — filtering, sorting and aggregating the data in different ways while experimenting with various chart types.</p><p>Although Tableau was not designed as a publication tool, the ability to embed finished dashboards and stories on any web page has also allowed organizations that lack JavaScript coding expertise to create customized interactive online graphics.</p><h3 id="the-data-we-will-use"><a name="the-data-we-will-use" href="#the-data-we-will-use"></a>The data we will use</h3><p>Download the data for this session from <a href="data/visualizing.zip">here</a>, unzip the folder and place it on your desktop. It a folder called <code>nations</code>, with the following files:</p><ul>
<li><code>nations.csv</code> Data from the <a href="http://data.worldbank.org/indicator/all">World Bank Indicators</a> portal, which is an incredibly rich resource. Contains the following fields:<ul>
<li><code>iso_a3</code> <a href="http://unstats.un.org/unsd/tradekb/Knowledgebase/Country-Code">Three-letter code</a> for each country, assigned by the <a href="http://www.iso.org/iso/home/store/catalogue_tc/catalogue_detail.htm?csnumber=63545">International Organization for Standardization</a>.</li><li><code>country</code> Country name.</li><li><code>year</code></li><li><code>region</code> <code>income_group</code> World Bank <a href="http://siteresources.worldbank.org/DATASTATISTICS/Resources/CLASS.XLS">regions and current income groups</a>, explained <a href="http://data.worldbank.org/about/country-and-lending-groups">here</a>.</li><li><code>population</code> Estimated <a href="http://data.worldbank.org/indicator/SP.POP.TOTL">total population</a> at mid-year, including all residents apart from refugees.</li><li><code>gdp_percap</code> <a href="http://data.worldbank.org/indicator/NY.GDP.PCAP.PP.CD">Gross Domestic Product per capita</a> in current international dollars, corrected for purchasing power in different territories.</li><li><code>life_expect</code> <a href="http://data.worldbank.org/indicator/SP.DYN.LE00.IN">Life expectancy</a> in years for a child born in the year in question, if prevailing patterns were to stay the same throughout its life.</li><li><code>population</code> Estimated <a href="http://data.worldbank.org/indicator/SP.POP.TOTL">total population</a> at mid-year, including all residents apart from refugees.</li><li><code>birth_rate</code> Number of <a href="http://data.worldbank.org/indicator/SP.DYN.CBRT.IN">live births during the year per 1,000 people</a>, based on mid-year population estimate.</li><li><code>neonat_mortal</code> <a href="http://data.worldbank.org/indicator/SH.DYN.NMRT">Neonatal mortality rate</a>: number of babies dying before reaching 28 days of age, per 1,000 live births in a given year.</li></ul>
</li></ul><h3 id="visualize-the-data-on-nations'-health-and-wealth"><a name="visualize-the-data-on-nations'-health-and-wealth" href="#visualize-the-data-on-nations'-health-and-wealth"></a>Visualize the data on nations’ health and wealth</h3><h4 id="connect-to-the-data"><a name="connect-to-the-data" href="#connect-to-the-data"></a>Connect to the data</h4><p>Launch Tableau Public, and you should see the following screen:</p><p><img src="img/chcf_1a.jpg" alt=""></p><p>Under the <em>Connect</em> heading at top left, select <code>Text File</code>, navigate to the file <code>nations.csv</code> and <code>Open</code>. At this point, you can view the data, which will be labeled as follows:</p><ul>
<li>Text: <code>Abc</code></li><li>Numbers: <code>#</code></li><li>Dates: calendar symbol</li><li>Geography: globe symbol</li></ul><p>You can edit fields to give them the correct data type if there are any problems:</p><p><img src="img/chcf_2a.jpg" alt=""></p><p>Once the data has loaded, click <code>Sheet 1</code> at bottom left and you should see a screen like this:</p><p><img src="img/chcf_3a.jpg" alt=""></p><h4 id="dimensions-and-measures:-categorical-and-continuous"><a name="dimensions-and-measures:-categorical-and-continuous" href="#dimensions-and-measures:-categorical-and-continuous"></a>Dimensions and measures: categorical and continuous</h4><p>The fields should appear in the <code>Data</code> panel at left. Notice that Tableau has divided the fields into <code>Dimensions</code> and <code>Measures</code>. These broadly correspond to categorical and continuous variables. Dimensions are fields containing text or dates, while measures contain numbers.</p><p>If any field appears in the wrong place, click the small downward-pointing triangle that appears when it is highlighted and select <code>Convert to Dimension</code> or <code>Convert to Measure</code> as required.</p><h4 id="shelves-and-show-me"><a name="shelves-and-show-me" href="#shelves-and-show-me"></a>Shelves and Show Me</h4><p>Notice that the main panel contains a series of “shelves,” called <code>Pages,</code> <code>Columns</code>, <code>Rows</code>, <code>Filters</code> and so on. Tableau charts and maps are made by dragging and dropping fields from the data into these shelves.</p><p>Over to the right you should see the <code>Show Me</code> panel, which will highlight chart types you can make from the data currently loaded into the <code>Columns</code> and <code>Rows</code> shelves. It is your go-to resource when experimenting with different visualization possibilities. You can open and close this panel by clicking on its title bar.</p><h4 id="columns-and-rows:-x-and-y-axes"><a name="columns-and-rows:-x-and-y-axes" href="#columns-and-rows:-x-and-y-axes"></a>Columns and rows: X and Y axes</h4><p>The starting point for creating any chart or map in Tableau is to place fields into <code>Columns</code> and <code>Rows</code>, which for most charts correspond to the X and Y axes, respectively. When making maps, longitude goes in <code>Columns</code> and latitude in <code>Rows</code>. If you display the data as a table, then these labels are self-explanatory.</p><h4 id="initial-questions-to-ask-this-data"><a name="initial-questions-to-ask-this-data" href="#initial-questions-to-ask-this-data"></a>Initial questions to ask this data</h4><p>I first approached the dataset with the following questions:</p><ul>
<li>What is the relationship between a nations’ wealth, measured as GDP per capita, and their citizens’ life expectancy?</li><li>How has this relationship changed over time?</li></ul><p>You may have realized that these are essentially the same questions asked in the Gapminder video we saw in the opening session — so our chart will be rather similar.</p><h4 id="make-a-bubble-chart-to-explore-the-relationship-between-wealth-and-life-expectancy,-and-animate-over-time"><a name="make-a-bubble-chart-to-explore-the-relationship-between-wealth-and-life-expectancy,-and-animate-over-time" href="#make-a-bubble-chart-to-explore-the-relationship-between-wealth-and-life-expectancy,-and-animate-over-time"></a>Make a bubble chart to explore the relationship between wealth and life expectancy, and animate over time</h4><p>From the morning session, you will remember that we can investigate relationships using a scatter plot. One would imagine that the people in wealthier countries would live healthier and longer lives. So we will put wealth on the X axis, as the presumed explanatory variable, and life expectancy on the Y.</p><p>First let’s rename these variables, so that their meaning is unambiguous. Hover over <code>Life Expect</code>, click on the small downward-pointing triangle that appeats, select <code>Rename</code> and call it <code>Life expectancy at birth (years)</code>. Similarly, change <code>Gdp Percap</code> to <code>GDP per capita</code>.</p><p>Now drag <code>GDP per capita</code> to  <code>Columns</code> and <code>Life expectancy at birth (years)</code> to <code>Rows</code>. Notice that this results in a chart with a single point:</p><p><img src="img/chcf_4a.jpg" alt=""></p><p>This is because Tableau’s default behavior is to aggregate continuous variables — in this case it has added up all the values in the dataset using the function <code>SUM</code>.</p><p>To override this behaviour, and see every single data point, select <code>Analysis</code> from the top menu and uncheck <code>Aggregate measures</code>. The chart should now look like this:</p><p><img src="img/chcf_5a.jpg" alt=""></p><p>However, removing aggregation disables some useful functions (more on this later), so select <code>Analysis</code> and check <code>Aggregate measures</code> once more. Hover over each of the measures in the <code>Columns</code> and <code>Rows</code> shelves, click on the downward-pointing triangle to open the dropdown menu, and change the aggregation from <code>Measure (Sum)</code> to <code>Measure (Average)</code>. The chart should looks like this:</p><p><img src="img/chcf_6a.jpg" alt=""></p><p>Now drag <code>Country</code> to the <code>Detail</code> shelf under <code>Marks</code>. This creates a separate mark for each country, plotting the average values over the entire time period for each. The chart should now look like this:</p><p><img src="img/chcf_7a.jpg" alt=""></p><p>To show just one year’s data, and to animate the changes over time, drag <code>Year</code> into the <code>Pages</code> shelf. Notice that this both filters the data and adds controls to move through the years:</p><p><img src="img/chcf_8a.jpg" alt=""></p><p>Although we are still aggregating the data using the function <code>AVG</code>, there is only one record per country, per year, so the chart is now plotting single values.</p><p>Experiment with the page controls, and notice that the chart goes blank in 2013 and 2014 — years for which there is no data. This is not desirable behavior, but we can prevent it by filtering those years out of the displayed data.</p><p>Hover over <code>Year</code> in the <code>Pages</code> shelf, click on the downward pointing trial and select <code>Filter...</code>. Uncheck the two years with missing data and click <code>OK</code>:</p><p><img src="img/chcf_8.jpg" alt=""></p><p>Now drag <code>Region</code> to <code>Color</code>, and the circles will be colored with Tableau’s default qualitative color scheme for categorical data. (Tableau’s qualitative color schemes are well designed, so there is no need to adopt a ColorBrewer scheme. However, it is possible to edit colors individually as you wish.)</p><p>For a more subtle color scheme, click on <code>Color</code>, select <code>Edit Colors...</code> and at the dialog box select the <code>Tableau 10 Light</code> qualitative color scheme, then click <code>Assign Palette</code> and <code>OK</code>:</p><p><img src="img/chcf_9a.jpg" alt=""></p><p>In the <code>Marks</code> shelf, change from <code>Automatic</code> to <code>Circle</code> to switch to solid circles.</p><p>As the circles overlap, let’s give them some transparency so each can be seen. Click on <code>Color</code> again, drop the transparency to 75% and give each circle a gray border to help distinguish them from one another. The chart should now look like this:</p><p><img src="img/chcf_10a.jpg" alt=""></p><p>It’s clear that there are a few outlier countries with very high GDP per capita, with most of the others clustered at the bottom of the range. Using a logarithmic scale for the X axis will help see differences in population density for most nations.</p><p>So right-click on the X axis and select <code>Edit Axis</code>. At the dialog box, check <code>Logarithmic</code>:</p><p><img src="img/chcf_11a.jpg" alt=""></p><p>Running through the years, there are never any values of less that $100 on the X axis. So now let’s edit the axis range and also change the units so that it’s clear the figures are in $.</p><p>To fix the latter, hover over <code>GDP per capita</code> in the <code>Measures</code> panel and select <code>Default Properties&gt;Number Format...</code> and fill in the dialog box as follows:</p><p><img src="img/chcf_12.jpg" alt=""></p><p>Now right-click on the X axis and select <code>Edit Axis</code>. At the dialog box, check <code>Fixed</code> and set the <code>Start</code> value as <code>100</code>. Also edit the <code>Title</code>, to remove <code>Avg.</code> as only a single value is being shown:</p><p><img src="img/chcf_13a.jpg" alt=""></p><p>Edit the Y axis <code>Title</code> to remove <code>Avg.</code> also. The chart should now look like this:</p><p><img src="img/chcf_14a.jpg" alt=""></p><p>There does indeed seem to be a relationship between wealth and life expectancy, so let’s draw a trend line. Switch to the <code>Analytics</code> tab in the panel at left, drag <code>Trend Line</code> over the chart area, and drop it onto the chart icon labeled <code>Logarithmic</code>:</p><p><img src="img/chcf_15a.jpg" alt=""></p><p>Remember from the opening session that the relationship between wealth and life expectancy across nations is logarithmic, but the logarithmic X axis transforms the curve into a straight trend line. However, rather than a single trend line we have one for each region, and confidence bands around each line have also been drawn:</p><p><img src="img/chcf_16a.jpg" alt=""></p><p>Now select <code>Analysis&gt;Trend Lines&gt;Edit Trend Lines</code> and edit the dialog box to the following:</p><p><img src="img/chcf_17a.jpg" alt=""></p><p>Hover over the trend line to see its equation. (If you wish, you can also turn off the logarithmic option on the X axis temporarily, to see what the logaraithmic curve looks like.)</p><p>Right-click on the line, select <code>Format...</code> and change the thick black line to thinner gray dashes. The chart should now look like this:</p><p><img src="img/chcf_18a.jpg" alt=""></p><p>Use the <code>Page</code> controls to play through the years again, and notice that the slope of the line becomes shallower over time.</p><p>Having explored this relationship, we could stop there. But we can also highlight larger countries by dragging <code>Population</code> to <code>Size</code>. After doing so, click on <code>Size</code> and move the slider to the right to increase the size of all of the circles.</p><p>Tableau’s default behavior is to scale circles correctly, by area. So the relative size of the circles corresponds to the countries’ population in each year.</p><p>The chart should now look something like this:</p><p><img src="img/chcf_19a.jpg" alt=""></p><p>Now click on the title bars for the size and color legends and select <code>Hide Card</code> to remove them from the visualization. We can provide the values for the total amount of protected land through a tooltip, rather than a legend. And we will later make a map to serve as a color legend, making that redundant.</p><p>Hover over one of the circles, and notice the tooltip that appears. By default, all the fields we have used to make the visualization appear in the tooltip. (If you need any more, just drag those fields onto <code>Tooltip</code>.) Click on <code>Tooltip</code> and edit as follows:</p><p><img src="img/chcf_20a.jpg" alt=""></p><p>Unchecking <code>Include command buttons</code> removes some additional Tableau tooltip functionality, giving a plain tooltip.</p><p>There’s a problem with the chart: Some of the smaller circles lie behind larger ones, which means that their tooltips can’t be accessed. To solve this, open the dropdown menu for <code>Country</code> in the <code>Marks</code> shelf, select <code>Sort</code> and fill in the dialog box as follows:</p><p><img src="img/chcf_20.jpg" alt=""></p><p>Now drag <code>Country</code> so it appears at the top of the list of fields in the <code>Marks</code> shelf. The sort we have just performed would not have been possible if we had unchecked <code>Aggregate Measures</code> earlier. It should ensure that the smallest circles always appear on top:</p><p><img src="img/chcf_21a.jpg" alt=""></p><p>Take some time to consider how the chart is constructed in relation to the principles covered in this morning’s session, especially the perceptual heirarchy of visual cues.</p><h4 id="save-to-the-cloud"><a name="save-to-the-cloud" href="#save-to-the-cloud"></a>Save to the cloud</h4><p>Right-click on <code>Sheet 1</code> at bottom, select <code>Rename Sheet</code>, and call it <code>Bubble chart</code>.</p><p>Having finished this chart, now is a good time to save our work. From the top menu, select <code>File&gt;Save To Tableau Public</code>. At the logon dialog box enter your Tableau Public account details, give the Wookbook a suitable name and click <code>Save</code>. When the save is complete, you can close that window.</p><h4 id="make-a-map-to-use-as-a-color-legend"><a name="make-a-map-to-use-as-a-color-legend" href="#make-a-map-to-use-as-a-color-legend"></a>Make a map to use as a color legend</h4><p>Select <code>Worksheet&gt;New Worksheet</code> from the top menu, and double-click on <code>Country</code>. Tableau recognizes the names of countries and states/provinces; for the U.S., it also recognizes counties. Its default map-making behavior is to put a circle at the centroid of each area, which can be scaled and colored to reflect values from the data:</p><p><img src="img/chcf_22a.jpg" alt=""></p><p>However, we need each country to be filled with color by region. Using <code>Show Me</code>, switch to the <code>filled map</code> option, and each nation should fill with color. Drag <code>Region</code> to <code>Color</code> and see how the same color scheme we used previously carries over to the map. Click on <code>Color</code>, set the transparency to 75% to match the bubble chart and remove the borders. Also click on <code>Tooltip</code> and uncheck <code>Show tooltip</code> so that no tooltip appears on the legend.</p><p>We will use this map as a color legend, so its separate color legend is unnecessary. Click the color legend’s title bar and select <code>Hide Card</code> to remove it from the visualization.</p><p>Center the map in the view by clicking on it, holding and panning. It should now look something like this:</p><p><img src="img/chcf_23a.jpg" alt=""></p><p>Rename the worksheet <code>Inset map</code> and save to the web again.</p><h4 id="make-a-dashboard-displaying-the-bubble-chart-and-map-color-legend"><a name="make-a-dashboard-displaying-the-bubble-chart-and-map-color-legend" href="#make-a-dashboard-displaying-the-bubble-chart-and-map-color-legend"></a>Make a dashboard displaying the bubble chart and map color legend</h4><p>From the top menu, select <code>Dashboard&gt;New Dashboard</code>. We can set the size of the dashboard to fit the web page in which it will be embedded, and this can be a <code>Range</code>, giving some basic responsive design. For simplicity, we will set the dashboard to <code>Laptop</code> size.</p><p>Drag <code>Bubble chart</code> from the panel at left to the main panel. The default title, from the worksheet name, isn’t very informative, so right-click on that and select <code>Hide Title</code>.</p><p>Right click on the <code>Year</code> title for the <code>Page</code> control, and <code>Edit title</code> to increase its font size.</p><p>Notice that Tableau allows you to drop various other items onto a dashboard: horizontal and vertical containers, text boxes, images, web pages and blank space.</p><p>Drag a <code>Text</code> box onto bottom of the chart, until the lower part of the bubble chart becomes gray, showing where the new element will appear. Then add the source information:</p><p><img src="img/chcf_24.jpg" alt=""></p><p>The source text box will be much too large, so extend the size of the chart window as appropriate. Now is also a good time to set the font size for the axis labels, which are a little small. Right-click on each axis, select <code>Format</code> and increase the font size to <code>10pt</code>.</p><p>Now select <code>Dashboard&gt;Show Title</code> from the top menu. Right-click on it, select <code>Edit Title...</code> and change the default <code>&lt;Sheet Name&gt;</code> to something more informative:</p><p><img src="img/chcf_25.jpg" alt=""></p><p>When adding items to a dashboard, you can make them <code>Tiled</code> or <code>Floating</code>, which allows them to be placed over the top of one another. Switch to <code>Floating</code> and drag the map onto the bottom right of the chart. Hide its title, and if necessary reduce its size so that it doesn’t obscure any of the circles in any of the years. Also right-click on the map and select <code>Hide View Toolbar</code> and <code>Hide Map Search</code>. This will remove the map’s interactive controls.</p><p>The finished dashboard should look something like this:</p><p><img src="img/chcf_26a.jpg" alt=""></p><p>Rename the dashboard and save to the web.</p><p>Once the dashboard is online, use the <code>Share</code> link at the bottom to obtain an embed code, which can be inserted into the HTML of any web page.</p><p><img src="img/chcf_27.jpg" alt=""></p><p>(You can also <code>Download</code> a static view of the graphic as a PNG image or a PDF.)</p><h4 id="some-more-questions-to-ask-this-data"><a name="some-more-questions-to-ask-this-data" href="#some-more-questions-to-ask-this-data"></a>Some more questions to ask this data</h4><p>I next decided to explore the data on neonatal mortality, asking the following questions:</p><ul>
<li>How have the total number of neonatal deaths changed over time, globally, regionally and nationally?</li><li>How has the neonatal death rate for each country changed over time?</li></ul><h4 id="create-new-calculated-variables"><a name="create-new-calculated-variables" href="#create-new-calculated-variables"></a>Create new calculated variables</h4><p>The data contains fields on birth and neonatal death rates, but not the total numbers, which must be calculated. From the top menu, select <code>Analysis&gt;Create Calculated Field</code>. Fill in the dialog box as follows (just start typing a field name to select it for use in a formula):</p><p><img src="img/chcf_28a.jpg" alt=""></p><p>Notice that calculated fields appear in the <code>Data</code> panel preceded by an <code>=</code> symbol.</p><p>Now create a second calculated field giving the total number of neonatal deaths:</p><p><img src="img/chcf_29a.jpg" alt=""></p><p>(We have run some simple arithmetic, but it’s possible to use a wide variety of functions to manipulate the data in various ways.)</p><h4 id="make-a-series-of-treemaps-showing-neonatal-deaths-over-time"><a name="make-a-series-of-treemaps-showing-neonatal-deaths-over-time" href="#make-a-series-of-treemaps-showing-neonatal-deaths-over-time"></a>Make a series of treemaps showing neonatal deaths over time</h4><p>For any one year, I realized that a treemap would allow me to directly compare the neonatal deaths in each country, nested by region.</p><p>In a new worksheet, drag <code>Country</code> and <code>Region</code> onto <code>Columns</code> and <code>Neonatal deaths</code> onto <code>Rows</code>. Then open <code>Show Me</code> and select the <code>treemap</code> option. The initial chart should look like this:</p><p><img src="img/chcf_30a.jpg" alt=""></p><p>Now remove <code>Region</code> from <code>Label</code> to  show just the country names, and drag <code>Region</code> to <code>Color</code>. Click on <code>Color</code> and set transparency to 75%, to match the appearance of our previous chart.</p><p>The treemap should now look like this:</p><p><img src="img/chcf_31a.jpg" alt=""></p><p>Notice that Tableau has by default aggregated <code>Neonatal deaths</code> using the <code>SUM</code> function, so what we are seeing is the number for each country added up across the years.</p><p>To see one year at a time, we need to filter by year. If you drag the existing <code>Year</code> variable to the <code>Filters</code> shelf, you will get the option to filter by a range of numbers, which isn’t what we need:</p><p><img src="img/chcf_32.jpg" alt=""></p><p>Instead, we need to be able check individual years, and draw a treemap for each one. To do that, select <code>Year</code> in the <code>Dimensions</code> panel and <code>Duplicate</code>.</p><p>Select the new variable and <code>Convert to Discrete</code> and then rename it <code>Year (discrete)</code>. Now drag this new variable to <code>Filters</code> and select 2012 (the last year for which there is data).</p><p><img src="img/chcf_33.jpg" alt=""></p><p>The treemap now displays the data for 2012:</p><p><img src="img/chcf_33a.jpg" alt=""></p><p>That’s good for a snapshot of the data, but with a little tinkering, we can adapt this visualization to show change in the number of neonatal deaths over time at the national, regional and global levels.</p><p>Select <code>Year (discrete)</code> in the <code>Filters</code> shelf and <code>Filter ...</code> to edit the filter. Select all the years with even numbers (apart from 2014, for which there is no data) and click <code>OK</code>:</p><p><img src="img/chcf_35.jpg" alt=""></p><p>Now drag <code>Year (discrete)</code> onto <code>Rows</code> and the chart should look like this:</p><p><img src="img/chcf_36a.jpg" alt=""></p><p>The formatting needs work, but notice that we now have a bar chart made out of treemaps.</p><p>Extend the chart area to the right by changing from <code>Normal</code> to <code>Fit Width</code> on the dropdown menu in the top ribbon:</p><p><img src="img/chcf_37.jpg" alt=""></p><p>I find it more intuitive to have the most recent year at the top, so click on this sort icon in the top ribbon to change the order of the bars:</p><p><img src="img/chcf_38.jpg" alt=""></p><p>The rectangles are now too small for the labels to work well. Rather than removing them entirely, let’s just leave a label for India in 2012, to make it clear that this is the country with by far the largest number of neonatal deaths. Click on <code>Label</code> in the <code>Marks</code> shelf, and switch from <code>All</code> to <code>Selected</code> under <code>Marks to Label</code>. Then right-click on the rectangle for India in 2012, and select <code>Mark Label&gt;Always Show</code>. Right click again on the rectangle and select <code>Format</code>. Under <code>Sheet</code>, open the dropdown menu for <code>Default&gt;Pane</code> and set the color to a dark gray. The chart should now look like this:</p><p><img src="img/chcf_39a.jpg" alt=""></p><p>We can again use the map as a legend for the regions, so hide the color legend. Edit the tooltip as follows:</p><p><img src="img/chcf_40a.jpg" alt=""></p><p>To remove some clutter from the chart, select <code>Format&gt;Borders</code> from the top menu, and under <code>Sheet</code>, <code>Rows</code> and <code>Columns</code> set all the options to <code>None</code>. Right-click on <code>Year (discrete)</code> at the top left of the chart and select <code>Hide Field Labels for Rows</code>. Then hover just above the top bar to get a double-arrowed drag symbol and drag upwards to reduce the white space at the top. You may also want to drag the bars a little closer to the year labels. The chart should now look like this:</p><p><img src="img/chcf_41a.jpg" alt=""></p><p>Rename the worksheet <code>Treemap bar chart</code> and save to the web.</p><h4 id="make-a-line-chart-showing-neonatal-mortality-rate-by-country-over-time"><a name="make-a-line-chart-showing-neonatal-mortality-rate-by-country-over-time" href="#make-a-line-chart-showing-neonatal-mortality-rate-by-country-over-time"></a>Make a line chart showing neonatal mortality rate by country over time</h4><p>To explore the neonatal death rate over time by country, I decided to use a line chart.</p><p>First, rename <code>Neonat Mortal</code> as <code>Neonatal death rate (per 1,000 births)</code>. Then, in a new worksheet, drag this variable to <code>Rows</code> and <code>Year</code> to <code>Columns</code>. Also drag <code>Country</code> to <code>Detail</code> in the <code>Marks</code> shelf to draw one line per country. The chart should now look like this:</p><p><img src="img/chcf_42a.jpg" alt=""></p><p>Drag region to <code>Color</code>, set the transparency to 75%, and remove the color legend. Notice that this data finishes in 2013. To make the range consistent with the treemaps, drag <code>Year (discrete)</code> to filter and select all years apart from 2013 and 2014.</p><p>Now right-click on the X axis, select <code>Edit Axis</code>, edit the dialog box as follows and click <code>OK</code>:</p><p><img src="img/chcf_43.jpg" alt=""></p><p>To minimize chart junk, select <code>Format&gt;Borders</code> from the top menu, and under <code>Sheet</code> set all the options to <code>None</code>. Then select <code>Format&gt;Lines</code>, under <code>Columns</code> set <code>Grid Lines</code> ro <code>None</code>, and under <code>Sheet</code> set <code>Axis Ticks</code> to <code>None</code>.</p><p>Right-click on the X axis again, select <code>Format</code>, change <code>Alignment</code> to <code>Up</code> and use the dropdown menu set the <code>Font</code> to bold.</p><p>The chart should now look like this:</p><p><img src="img/chcf_44a.jpg" alt=""></p><p>We can also highlight the countries with the highest total number of neonatal deaths by dragging <code>Neonatal deaths</code> to <code>Size</code>. The chart should now look like this:</p><p><img src="img/chcf_45a.jpg" alt=""></p><p>This line chart shows that the trend in most countries has been to reduce neonatal deaths, while some countries have had more complex trajectories. But to make comparisons between individual countries, it will be necessary to add controls to filter the chart.</p><p>Tableau’s default behavior when data is filtered is to redraw charts to reflect the values in the filtered data. So if we want the Y axis and the line thicknesses to stay the same when the chart is filtered, we need to freeze them.</p><p>To freeze the line thicknesses, hover over the title bar for the line thickness legend, select <code>Edit Sizes...</code> and fill in the dialog box as follows:</p><p><img src="img/chcf_47.jpg" alt=""></p><p>Now remove this legend from the visualization. We will later add an annotation to our dashboard to explain the line thickness.</p><p>To freeze the Y axis, right-click on it, select <code>Edit Axis...</code>, make it <code>Fixed</code> and click <code>OK</code>:</p><p><img src="img/chcf_48.jpg" alt=""></p><p>Right-click on the Y axis again, select <code>Format...</code> and increase the font size to <code>10pt</code> to make it easier to read.</p><p>Now drag <code>Country</code> to <code>Filters</code>, make sure <code>All</code> are checked, and at the dialog box, and click <code>OK</code>:</p><p><img src="img/chcf_49.jpg" alt=""></p><p>Now we need to add a filter control to select countries to compare. Hover over <code>Country</code> in the <code>Filters</code> shelf and select <code>Show Quick Filter</code>. A default filter control, with a checkbox for each nation, will appear to the right of the chart:</p><p><img src="img/chcf_50a.jpg" alt=""></p><p>This isn’t the best filter control for this visualization. To change it, hover over the title bar for the filter, note the range of filter controls available, and select <code>Multiple Values (Custom List)</code>. Then select <code>Edit Title...</code> and add some text explaining how the filter works:</p><p><img src="img/chcf_51.jpg" alt=""></p><p>Take some time to explore how this filter works.</p><p>Rename <code>Income Group</code> to <code>Income group</code> so its case is consistent with the other variables named on the chart. The add <code>Region</code> and <code>Income group</code> to <code>Filters</code>, making sure that <code>All</code> options are checked for each. Select <code>Show Quick Filter</code> for both of these filters, and select <code>Single Value Dropdown</code> for the control. Reset both of these filters to <code>All</code>, and the chart should now look like this:</p><p><img src="img/chcf_52a.jpg" alt=""></p><p>Now let’s provide a single label to highlight India, as we did for the treemap. Drag <code>Country</code> onto <code>Label</code>, then click on <code>Label</code> and highlight <code>Selected</code>. Then hover over the line for India, select a point, right-click and select <code>Mark Label&gt;Always Show</code>. Right-click on the point again, select <code>Format</code> and under <code>Sheet&gt;Pane</code> set the font color to a dark gray.</p><p>The chart should now look like this:</p><p><img src="img/chcf_53a.jpg" alt=""></p><p>Finally, click on <code>Tooltip</code> and edit as follows:</p><p><img src="img/chcf_54a.jpg" alt=""></p><p>Rename the sheet <code>Line chart</code> and save to the web.</p><h4 id="make-a-dashboard-combining-both-charts"><a name="make-a-dashboard-combining-both-charts" href="#make-a-dashboard-combining-both-charts"></a>Make a dashboard combining both charts</h4><p>Select <code>Dashboard&gt;New Dashboard</code> from the top menu, and make it <code>Laptop</code> size.</p><p>Add <code>Treemap bar chart</code> to the dashboard, hide its title and then <code>Fit Width</code> to make it fill the dashboard area. Similarly, add <code>Line Chart</code> to the right of the dashboard, which should now look like this:</p><p><img src="img/chcf_55.jpg" alt=""></p><p>This needs some reformatting. Drag the bottom of the first filter control down to create some room for the lists of countries that it will create.</p><p>Notice that the <code>Region</code> and <code>Income group</code> filters control only the line chart. To make them control the treemaps, too, for each filter select <code>Apply to Worksheets&gt;Selected Worksheets...</code> and fill in the dialog box as follows:</p><p><img src="img/chcf_5a7.jpg" alt=""></p><p>The filters will now control both charts.</p><p>Add <code>Inset map</code> for a color legend at bottom right. Hide its title and remove the map controls, as for the first dashboard.</p><p>We can also allow the highlighting of a country on one chart to be carried across the entire dashboard. Select <code>Dashboard&gt;Actions...</code> from the top menu, and at the first dialog box select <code>Add action&gt;Highlight</code>. Filling the second dialog box as follows will cause each country to be highlighted across the dashboard when it is clicked on just one of the charts:</p><p><img src="img/chcf_58.jpg" alt=""></p><p>Click <code>OK</code> on both dialog boxes to apply this action.</p><p>Add a title and source information. Then switch to the <code>Floating</code> option, then drag a <code>Text</code> box to the top of the line chart to add an annotation explaining the thickness of the lines.</p><p>Give the dashboard an appropriate name, and save to the web.</p><p>The final dashboard should look like this:</p><p><img src="img/chcf_59.jpg" alt=""></p><p>Again, take some time to consider how this visualization of the data works, in relation to the principles we discussed in the opening session.</p><h4 id="from-dashboards-to-stories"><a name="from-dashboards-to-stories" href="#from-dashboards-to-stories"></a>From dashboards to stories</h4><p>Tableau also allows you to create stories, which combine successive dashboards into a step-by-step narrative. Select <code>Story&gt;New Story</code> from the top menu. Having already made a dashboard, you should find these simple and intuitive to create. Select <code>New Blank Point</code> to add a new scene to the narrative.</p><h4 id="better-responsive-design"><a name="better-responsive-design" href="#better-responsive-design"></a>Better responsive design</h4><p>While the Tableau dashboard size <code>Range</code> option gives some basic responsive design, this will not easily allow you to create dashboards that work on every device from a small smartphone to a large desktop computer.</p><p>I would suggest creating three different dashboards, each with a size <code>Range</code> appropriate for phones, tablets, and desktops respectively. You can then follow the instructions <a href="https://public.tableau.com/s/blog/2014/11/making-responsive-tableau-dashboards">here</a> to put the embed codes for each of these dashboards into a div with a separate class, and then use <code>@media</code> CSS rules to ensure that only the div with the correct dashboard displays, depending on the size of the device.</p><p>If you need to make a fully responsive Tableau visualization and are struggling with these instructions, contact me for help!</p><p>As for all responsively designed web pages, make sure to include this line of code between the <code>&lt;head&gt;&lt;/head&gt;</code> tags of your HTML:</p><pre class="css hljs"><code class="CSS" data-origin="<pre><code class=&quot;CSS&quot;>&amp;lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&amp;gt;
</code></pre>">&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
</code></pre><h3 id="further-reading/viewing"><a name="further-reading/viewing" href="#further-reading/viewing"></a>Further reading/viewing</h3><p><a href="http://www.tableausoftware.com/public/training">Tableau Public training videos</a></p><p><a href="http://www.tableausoftware.com/public/gallery/all">Gallery of Tableau Public visualizations</a><br>You can download any of these examples using the links at bottom right and open the files (which will have the extension <code>.twbx</code>) with Tableau Public to see how they were put together.</p><p><a href="http://www.tableausoftware.com/public/knowledgebase/all">Tableau Public Knowledge Base</a><br>A useful resource with the answers to many queries about how to use the software.</p>

<footer style="position:fixed; font-size:.8em; text-align:right; bottom:0px; margin-left:-25px; height:20px; width:100%;">generated by <a href="http://pad.haroopress.com" target="_blank">haroopad</a></footer>
</body>
</html>
